model Producto {
    id           Int     @id @default(autoincrement())
    cod_producto String  @unique
    cod_barra    String? @unique
    name         String
    name_ticket  String

    categoria    Categoria @relation(fields: [categoria_id], references: [id])
    categoria_id Int

    marca    Marca @relation(fields: [marca_id], references: [id])
    marca_id Int

    unidad_medida    UnidadMedida @relation(fields: [unidad_medida_id], references: [id])
    unidad_medida_id Int

    accion_tecnica      String? @db.Text
    img                 String?
    ficha_tecnica       String?
    stock_min           Decimal @db.Decimal(9, 3)
    stock_max           Int?
    unidades_contenidas Decimal @db.Decimal(9, 3)
    estado              Boolean @default(true)

    created_at DateTime @default(now())
    updated_at DateTime @updatedAt

    producto_en_almacenes ProductoAlmacen[]

    @@index([name])
}

model Categoria {
    id   Int    @id @default(autoincrement())
    name String @unique

    productos Producto[]

    @@index([name])
}

model Marca {
    id   Int    @id @default(autoincrement())
    name String @unique

    productos Producto[]
    empresas  Empresa[]

    @@index([name])
}

model UnidadMedida {
    id   Int    @id @default(autoincrement())
    name String @unique

    productos Producto[]

    @@index([name])
}
